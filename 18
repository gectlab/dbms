CREATE TABLE account (
    account_no INT PRIMARY KEY,
    balance DECIMAL(10,2)
);
 
CREATE TABLE transactions (
    txn_id INT PRIMARY KEY,
    account_no INT,
    txn_type VARCHAR(10),   -- 'deposit' or 'withdrawal'
    amount DECIMAL(10,2)
);
 
DELIMITER $$
 
CREATE TRIGGER update_account_balance
AFTER INSERT ON transactions
FOR EACH ROW
BEGIN
    IF NEW.txn_type = 'deposit' THEN
        UPDATE account
        SET balance = balance + NEW.amount
        WHERE account_no = NEW.account_no;
 
    ELSEIF NEW.txn_type = 'withdrawal' THEN
        UPDATE account
        SET balance = balance - NEW.amount
        WHERE account_no = NEW.account_no;
    END IF;
END $$
 
DELIMITER ;
 
INSERT INTO transactions VALUES (1, 1001, 'deposit', 5000);
INSERT INTO transactions VALUES (2, 1001, 'withdrawal', 2000);
